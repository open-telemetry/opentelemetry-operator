# yaml-language-server: $schema=https://raw.githubusercontent.com/kyverno/chainsaw/main/.schemas/json/test-chainsaw-v1alpha1.json
apiVersion: chainsaw.kyverno.io/v1alpha1
kind: Test
metadata:
  name: observability-disable-monitoring-service
spec:
  steps:
    # Disabling the monitoring service in the OpenTelemetryCollector
    - name: step00
      description: collector with monitoring service disabled
      try:
        - apply:
            file: 00-install.yaml
        - assert:
            file: 00-assert.yaml
    # Enabling the monitoring service in the OpenTelemetryCollector
    - name: step01-enable-monitoring-service
      description: collector with monitoring service enabled
      try:
        - apply:
            file: 01-install.yaml
        - assert:
            file: 01-assert.yaml
